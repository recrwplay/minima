<span class="footer-title">Categories</span>
<ul class="categories">
    {% assign categories_list = site.categories | sort %}
      {% if categories_list.first[0] == null %}
        {% for category in categories_list %}
          <li><a href="/{{ category }}">{{ category | capitalize }} ({{ site.tags[category].size }})</a></li>
        {% endfor %}
      {% else %}
        {% for category in categories_list %}
        {% assign words = category[0] | split: '-' %}
        {% capture titlecase %}{% for word in words %}{{ word | capitalize }} {% endfor %}{% endcapture %}
          <li><a href="/{{ category[0] | downcase }}">{{ titlecase }} ({{ category[1].size }})</a></li>
        {% endfor %}
      {% endif %}
    {% assign categories_list = nil %}
</ul>